# 1.1 프로젝트 환경 구성

## 개요
SBS 데이터 동기화 배치 시스템의 기본 프로젝트 구조를 설정하는 단계입니다.

## 작업 체크리스트

### Spring Boot 프로젝트 생성 (Gradle 기반)
- [X] Spring Initializr를 통한 프로젝트 생성
  - 프로젝트명: sbs-datasync-batch
  - 언어: Java 17
  - 패키징: Jar
  - Spring Boot 버전: 3.2.x 이상
- [ ] 필수 의존성 선택
  - Spring Web
  - Spring Batch
  - Spring Data JPA
  - Spring Boot DevTools
  - Spring Boot Actuator
- [ ] 프로젝트 압축파일 다운로드 및 압축 해제
- [ ] IDE에서 프로젝트 임포트 확인

### React + Vite 프로젝트 생성 (frontend 디렉토리)
- [ ] frontend 디렉토리 생성
```bash
mkdir frontend
cd frontend
```
- [ ] Vite React 프로젝트 생성
```bash
npm create vite@latest . -- --template react-ts
```
- [ ] 초기 의존성 설치
```bash
npm install
```
- [ ] 개발 서버 실행 테스트
```bash
npm run dev
```

### 기본 디렉토리 구조 설계
```
sbs-datasync-bat/
├── src/main/java/com/sbs/datasync/
│   ├── SbsDataSyncBatchApplication.java
│   ├── config/          # 설정 클래스들
│   ├── batch/           # 배치 관련 클래스들
│   │   ├── job/         # Job 설정
│   │   ├── step/        # Step 설정
│   │   ├── reader/      # ItemReader 구현체
│   │   ├── processor/   # ItemProcessor 구현체
│   │   ├── writer/      # ItemWriter 구현체
│   │   └── listener/    # 배치 리스너들
│   ├── controller/      # REST API 컨트롤러
│   ├── service/         # 비즈니스 로직
│   ├── repository/      # 데이터 접근 레이어
│   ├── entity/          # JPA 엔티티
│   └── dto/            # 데이터 전송 객체
├── src/main/resources/
│   ├── application.yml
│   ├── application-dev.yml
│   ├── application-prod.yml
│   └── schema.sql      # 테이블 생성 스크립트
├── frontend/           # React 프론트엔드
│   ├── src/
│   │   ├── components/  # 공통 컴포넌트
│   │   ├── pages/       # 페이지 컴포넌트
│   │   ├── hooks/       # 커스텀 훅
│   │   ├── services/    # API 서비스
│   │   ├── types/       # TypeScript 타입 정의
│   │   └── utils/       # 유틸리티 함수
│   ├── public/
│   └── package.json
└── docs/               # 문서
```

- [ ] 위 구조에 따른 디렉토리 생성
- [ ] 각 디렉토리에 .gitkeep 파일 추가 (빈 디렉토리 유지)

### application.yml 기본 설정
- [ ] src/main/resources/application.yml 파일 생성
```yaml
spring:
  application:
    name: sbs-datasync-batch
  profiles:
    active: dev

server:
  port: 8080

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when-authorized

logging:
  level:
    com.sbs.datasync: DEBUG
    org.springframework.batch: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/sbs-datasync-batch.log
```

### Gradle 의존성 정의
- [ ] build.gradle 의존성 섹션 업데이트
```gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-batch'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-actuator'
    implementation 'org.springframework.boot:spring-boot-starter-validation'

    // DB2 Driver
    implementation 'com.ibm.db2:jcc:11.5.8.0'

    // JSON 처리
    implementation 'com.fasterxml.jackson.core:jackson-databind'

    // 개발 도구
    developmentOnly 'org.springframework.boot:spring-boot-devtools'

    // 테스트
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation 'org.springframework.batch:spring-batch-test'
    testImplementation 'com.h2database:h2'

    // 문서화
    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'
}
```

### package.json 의존성 정의
- [ ] frontend/package.json 의존성 추가
```json
{
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.15.0",
    "axios": "^1.5.0",
    "@tanstack/react-query": "^4.35.0",
    "zustand": "^4.4.0",
    "date-fns": "^2.30.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.15",
    "@types/react-dom": "^18.2.7",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "@vitejs/plugin-react": "^4.0.3",
    "eslint": "^8.45.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-react-refresh": "^0.4.3",
    "typescript": "^5.0.2",
    "vite": "^4.4.5"
  }
}
```

### Git 초기 설정 및 .gitignore 구성
- [ ] Git 저장소 초기화 (아직 안 했다면)
```bash
git init
```

- [ ] .gitignore 파일 생성 및 내용 추가
```gitignore
# Java
*.class
*.jar
*.war
*.ear
*.zip
*.tar.gz
*.rar

# Maven
target/
pom.xml.tag
pom.xml.releaseBackup
pom.xml.versionsBackup
pom.xml.next
release.properties
dependency-reduced-pom.xml
buildNumber.properties
.mvn/timing.properties
.mvn/wrapper/maven-wrapper.jar

# Gradle
.gradle
build/
!gradle/wrapper/gradle-wrapper.jar
!gradle/wrapper/gradle-wrapper.properties

# STS
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans
.sts4-cache

# IntelliJ IDEA
.idea
*.iws
*.iml
*.ipr
out/

# NetBeans
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/

# VS Code
.vscode/

# OS
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db

# Logs
logs/
*.log

# Database
*.db
*.sqlite

# Node.js (frontend)
frontend/node_modules/
frontend/dist/
frontend/.env.local
frontend/.env.development.local
frontend/.env.test.local
frontend/.env.production.local

# npm
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Environment variables
.env
.env.local
.env.development
.env.test
.env.production

# Application specific
batch-jobs/
temp/
```

## 완료 확인 방법

### Spring Boot 프로젝트 확인
- [ ] Gradle 빌드 성공
```bash
./gradlew build
```
- [ ] 애플리케이션 실행 성공
```bash
./gradlew bootRun
```
- [ ] http://localhost:8080/actuator/health 접근 가능

### React 프로젝트 확인
- [ ] npm 설치 성공
```bash
cd frontend && npm install
```
- [ ] 개발 서버 실행 성공
```bash
npm run dev
```
- [ ] http://localhost:5173 접근 가능

### 전체 프로젝트 구조 확인
- [ ] 모든 디렉토리가 계획대로 생성되었는지 확인
- [ ] Git 커밋 가능 상태인지 확인

## 다음 단계
1.2 데이터베이스 연결 설정으로 진행
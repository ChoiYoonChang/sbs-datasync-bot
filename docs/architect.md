# SBS 데이터 동기화 배치 시스템 개발 아키텍처

## 프로젝트 개요
- ERP 시스템 팀 내부용 데이터베이스 클론 배치 프로그램
- 운영 DB → 개발/테스트 DB 데이터 동기화 자동화
- 기술 스택: Spring Boot + Spring Batch + React(Vite) + DB2

## Phase 1: 프로젝트 초기 설정 및 기본 구조 구축

### 1.1 프로젝트 환경 구성
- [ ] Spring Boot 프로젝트 생성 (Gradle 기반)
- [ ] React + Vite 프로젝트 생성 (frontend 디렉토리)
- [ ] 기본 디렉토리 구조 설계
- [ ] application.yml 기본 설정
- [ ] Gradle 의존성 정의 (Spring Batch, Web, DB2 Driver 등)
- [ ] package.json 의존성 정의
- [ ] Git 초기 설정 및 .gitignore 구성

### 1.2 데이터베이스 연결 설정
- [ ] DB2 드라이버 설정
- [ ] 운영/개발/테스트 DB 연결 정보 설정
- [ ] 데이터소스 멀티 설정 (운영용/대상용)
- [ ] 기본 연결 테스트

### 1.3 기본 엔티티 및 테이블 설계
- [ ] 배치 작업 관리 테이블 (BATCH_JOB_CONFIG)
- [ ] 배치 실행 히스토리 테이블 (BATCH_EXECUTION_HISTORY)
- [ ] 스케줄 관리 테이블 (BATCH_SCHEDULE)
- [ ] 기본 JPA 엔티티 클래스 생성

## Phase 2: 백엔드 핵심 기능 개발

### 2.1 Spring Batch 기본 구성
- [ ] BatchConfiguration 클래스 생성
- [ ] JobRepository 설정
- [ ] PlatformTransactionManager 설정
- [ ] 기본 Job/Step 템플릿 생성

### 2.2 데이터 클론 배치 Job 개발
- [ ] FAS 스키마 테이블 메타데이터 조회 기능
- [ ] 동적 쿼리 생성 Reader 개발
- [ ] 데이터 변환 Processor 개발 (필요시)
- [ ] 타겟 DB Writer 개발
- [ ] 배치 실행 상태 업데이트 Listener 개발

### 2.3 REST API 개발
- [ ] 배치 작업 CRUD API
- [ ] 배치 실행 API (수동 실행)
- [ ] 배치 상태 조회 API
- [ ] 히스토리 조회 API
- [ ] 스케줄 관리 API

### 2.4 서비스 레이어 개발
- [ ] BatchJobService - 배치 작업 관리
- [ ] BatchExecutionService - 배치 실행 관리
- [ ] ScheduleService - 스케줄 관리
- [ ] MetadataService - DB 메타정보 조회

## Phase 3: 프론트엔드 기본 구조 개발

### 3.1 React 기본 설정
- [ ] 라우팅 설정 (React Router)
- [ ] 상태 관리 설정 (Context API 또는 Zustand)
- [ ] HTTP 클라이언트 설정 (Axios)
- [ ] UI 컴포넌트 라이브러리 선택 및 설정

### 3.2 레이아웃 및 네비게이션
- [ ] 기본 레이아웃 컴포넌트
- [ ] 사이드바/헤더 네비게이션
- [ ] 페이지 라우팅 구조

### 3.3 기본 페이지 컴포넌트
- [ ] 대시보드 페이지 (홈)
- [ ] 배치 작업 관리 페이지
- [ ] 실행 히스토리 페이지
- [ ] 스케줄 관리 페이지

## Phase 4: 핵심 UI 기능 개발

### 4.1 배치 작업 관리 화면
- [ ] 그리드 형태의 배치 작업 목록
- [ ] 작업 등록/수정/삭제 모달
- [ ] 필수 필드 입력 폼
  - [ ] 실행 기간 선택
  - [ ] 스키마명 (FAS 고정)
  - [ ] 테이블명 선택/입력
  - [ ] INSERT 쿼리 입력
  - [ ] 메모 입력
- [ ] 입력 유효성 검증

### 4.2 배치 실행 기능
- [ ] 개별 작업 실행 버튼
- [ ] 일괄 실행 기능
- [ ] 실시간 실행 상태 표시
- [ ] 진행률 표시바
- [ ] 실행 결과 알림

### 4.3 실행 결과 표시
- [ ] 실행 성공/실패 상태
- [ ] 처리된 레코드 수
- [ ] 전체 대상 레코드 수
- [ ] 실행 시간 정보
- [ ] 오류 메시지 표시

## Phase 5: 히스토리 및 스케줄 관리

### 5.1 실행 히스토리 관리
- [ ] 과거 실행 기록 조회
- [ ] 실행 결과 상세 정보
- [ ] 실행 로그 조회
- [ ] 히스토리 검색/필터링
- [ ] 실행 결과 통계

### 5.2 스케줄 관리 기능
- [ ] 스케줄 등록/수정/삭제
- [ ] 크론 표현식 설정
- [ ] 스케줄 활성화/비활성화
- [ ] 예약된 작업 목록 조회
- [ ] 다음 실행 예정 시간 표시

### 5.3 스케줄러 구현
- [ ] Quartz 스케줄러 설정
- [ ] 동적 스케줄 등록/해제
- [ ] 스케줄 실행 모니터링
- [ ] 스케줄 충돌 방지

## Phase 6: 고급 기능 및 안정성 강화

### 6.1 배치 모니터링 및 알림
- [ ] 실시간 배치 상태 모니터링
- [ ] 실행 실패 시 알림 기능
- [ ] 이메일/Slack 알림 연동
- [ ] 대시보드 실시간 업데이트

### 6.2 오류 처리 및 복구
- [ ] 배치 실패 시 재시작 기능
- [ ] 부분 실패 시 이어서 처리
- [ ] 데이터 무결성 검증
- [ ] 롤백 기능

### 6.3 성능 최적화
- [ ] 배치 처리 성능 튜닝
- [ ] 대용량 데이터 처리 최적화
- [ ] 메모리 사용량 최적화
- [ ] 동시 실행 제어

## Phase 7: 보안 및 운영 기능

### 7.1 사용자 인증 및 권한
- [ ] 기본 로그인 기능
- [ ] 사용자 역할 관리
- [ ] API 접근 권한 제어
- [ ] 감사 로그 기능

### 7.2 시스템 설정 관리
- [ ] 데이터베이스 연결 정보 관리
- [ ] 배치 실행 옵션 설정
- [ ] 시스템 파라미터 관리
- [ ] 환경별 설정 분리

### 7.3 로깅 및 모니터링
- [ ] 상세 실행 로그 기록
- [ ] 시스템 리소스 모니터링
- [ ] 성능 지표 수집
- [ ] 로그 순환 및 보관

## Phase 8: 테스트 및 배포 준비

### 8.1 단위 테스트
- [ ] 서비스 레이어 테스트
- [ ] 배치 Job 테스트
- [ ] API 엔드포인트 테스트
- [ ] 프론트엔드 컴포넌트 테스트

### 8.2 통합 테스트
- [ ] 전체 배치 프로세스 테스트
- [ ] 데이터베이스 연동 테스트
- [ ] API 통합 테스트
- [ ] UI 통합 테스트

### 8.3 배포 및 운영 준비
- [ ] 프로덕션 환경 설정
- [ ] 배포 스크립트 작성
- [ ] 운영 매뉴얼 작성
- [ ] 사용자 가이드 작성

## Phase 9: 추가 기능 및 개선사항

### 9.1 확장 기능
- [ ] 다른 스키마 지원 (인사, 제작 등)
- [ ] 데이터 변환 룰 관리
- [ ] 배치 템플릿 관리
- [ ] 데이터 검증 룰 설정

### 9.2 UI/UX 개선
- [ ] 반응형 웹 지원
- [ ] 다크 모드 지원
- [ ] 사용자 경험 개선
- [ ] 접근성 향상

### 9.3 운영 편의 기능
- [ ] 데이터 백업/복원
- [ ] 배치 성능 분석 리포트
- [ ] 자동 정리 기능
- [ ] 시스템 헬스 체크

## 기술 스택 상세
- **백엔드**: Spring Boot 3.x, Spring Batch 5.x, JPA/Hibernate
- **프론트엔드**: React 18, Vite, TypeScript
- **데이터베이스**: IBM DB2
- **스케줄링**: Spring Boot Scheduler 또는 Quartz
- **빌드도구**: Gradle (백엔드), Vite (프론트엔드)

## 우선순위 및 진행 방향
1. **Phase 1-2**: 백엔드 기본 구조 및 핵심 배치 기능
2. **Phase 3-4**: 프론트엔드 기본 기능 및 UI
3. **Phase 5**: 히스토리 및 스케줄 관리
4. **Phase 6-7**: 안정성 및 운영 기능
5. **Phase 8-9**: 테스트 및 확장 기능

각 단계별로 기본 기능부터 점진적으로 구현하여 안정적인 시스템을 구축해나갈 예정입니다.